{
	"version": 2,
	"description": "Benchmark for research task",
	"indices": [
		{
			"name": "books",
			"body": "books_index.json",
			"types": [ "book" ]
		},
		{
			"name": "subscriptions",
			"body": "subscriptions_index.json",
			"types": [ "subscription" ]
		}
	],
	"challenges": [
		{
			"name": "index-and-query",
			"default": true,
			"schedule": [
				{
					"operation": {
						"operation-type": "delete-index",
						"index":["books","subscriptions"]
					}
				},
				{
					"operation": {
						"operation-type": "create-index",
						"index":["books","subscriptions"]
					}
				},
				{
					"operation": {
						"name": "bulk-insert-books",
						"operation-type": "bulk",
						"bulk-size":1000,
						"param-source": "books-insert-param-source",
						"num_ids":1255615
					}
				},
				{
					"operation": {
						"name": "bulk-insert-subscriptions",
						"operation-type": "bulk",
						"bulk-size":676,
						"param-source": "subscriptions-insert-param-source",
						"num_subscriptions":676
					}
				},
				{
					"parallel": {
						"tasks": [
							{
								"operation": {
									"name": "randomized search",
									"operation-type": "search",
									"param-source": "search-param-source",
									"titles":{% include 'titles.txt' %},
									"subscriptions":{% include 'subscriptions.txt' %}
								},
								"clients": 8,
								"warmup-iterations": 1000,
								"iterations": 1000,
								"target-throughput": 100
							},
							,
							{
								"operation": {
									"name": "bulk-update",
									"operation-type": "bulk",
									"bulk-size":100,
									"param-source": "update-param-source",
									"num_ids":1255615,
									"subscriptions":{% include 'subscriptions.txt' %}
								},
								"clients": 1,
								"warmup-iterations": 1000,
								"iterations": 1000,
								"target-throughput": 100
							}

						]
					}
				}
			]
		}
	]
}

